import{D as A,E as B,i as s,j as F,a as k,c as i,o as r,f as o,d,w as M,F as N,h as q,b as L,u as p,e as c,t as y,g as P,A as j}from"./vue.esm-bundler-VLZRLwDo.js";import{t as m}from"./Translator-B6cROAk_.js";import{_ as E}from"./DynamicIcon-B1vpMEi_.js";import{A as w}from"./Arr-MwYQQ3qa.js";import O from"./CreatePageButton-BAj4XeYw.js";import"./Notify-DKZN7muO.js";import"./Str-DQr93RbR.js";import"./index-BSdFqZUc.js";import"./Rest-U7WPPDzn.js";import"./Badge-DsywDH_m.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"fc-form-group"},U={class:"input-prepend"},D={class:"input-info-note flex gap-2 mt-2 flex-wrap items-center"},H=["innerHTML"],$={class:"flex gap-2"},z=["href"],K={class:"flex gap-1 items-end m-0 underline"},R=["href"],G={class:"flex gap-1 items-end m-0 underline"},I={class:"input-append"},ae={__name:"PageSelector",props:A({name:{type:String,required:!0},field:{type:Object},fieldKey:{type:String},value:{required:!0},variant:{type:String},nesting:{type:Boolean,default:!1},statePath:{type:String},form:{type:Object,required:!0},callback:{type:Function,required:!0},label:{type:String},attribute:{required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const t=B(a,"modelValue",{get:l=>l?typeof l=="string"?Number(l):l:""}),f=a,v=s(f.field.options);s(t.value);const u=s({}),g=s(!1),_=()=>t.value?w.get(u.value,t.value.toString(),""):"",b=l=>{g.value=l},S=w.get(window,"fluentCartAdminApp.admin_url","").toString().replace("admin.php?page=fluent-cart#/","post.php?action=edit&post="),h=()=>t.value?S+t.value:"";return F(()=>{u.value[t.value.toString()]=f.field.preview_link}),(l,n)=>{const x=k("el-option"),C=k("el-select");return r(),i("div",T,[o("div",{class:j(["fc-input-group w-full",{focused:g.value}])},[o("div",U,[d(C,{filterable:"",modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e),onFocus:n[1]||(n[1]=e=>b(!0)),onBlur:n[2]||(n[2]=e=>b(!1)),placeholder:p(m)("Select"),clearable:"",onChange:n[3]||(n[3]=e=>{e||(t.value="")})},{default:M(()=>[(r(!0),i(N,null,q(v.value,(e,V)=>(r(),L(x,{key:V,label:e.label,value:Number(e.value)},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),o("div",D,[a.field.note?(r(),i("div",{key:0,class:"form-note mr-1 !mt-0",innerHTML:a.field.note},null,8,H)):c("",!0),o("div",$,[h()?(r(),i("a",{key:0,class:"preview-link !outline-none !shadow-none",href:h(),target:"_blank"},[o("p",K,y(p(m)("Edit")),1)],8,z)):c("",!0),_()?(r(),i("a",{key:1,class:"preview-link !outline-none !shadow-none",href:_(),target:"_blank"},[o("p",G,[P(y(p(m)("Preview"))+" ",1),d(E,{class:"w-3 h-3 mb-1",name:"Redirect"})])],8,R)):c("",!0)])])]),o("div",I,[d(O,{title:a.field.page_title,onOnPageCreated:n[4]||(n[4]=e=>{v.value.push({label:e.label,value:e.value}),u.value[e.value.toString()]=e.page_link,t.value=e.value}),content:a.field.page_key},null,8,["title","content"])])],2)])}}};export{ae as default};
