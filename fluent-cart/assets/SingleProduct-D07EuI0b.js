var re=Object.defineProperty;var $t=b=>{throw TypeError(b)};var le=(b,t,i)=>t in b?re(b,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):b[t]=i;var Ot=(b,t,i)=>le(b,typeof t!="symbol"?t+"":t,i),yt=(b,t,i)=>t.has(b)||$t("Cannot "+i);var e=(b,t,i)=>(yt(b,t,"read from private field"),i?i.call(b):t.get(b)),f=(b,t,i)=>t.has(b)?$t("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(b):t.set(b,i),g=(b,t,i,a)=>(yt(b,t,"write to private field"),a?a.call(b,i):t.set(b,i),i),h=(b,t,i)=>(yt(b,t,"access private method"),i);var F,q,U,j,Q,Z,k,Pt,Wt,Bt,Dt,vt;class de{constructor(t){f(this,k);f(this,F);f(this,q);f(this,U);f(this,j);f(this,Q);f(this,Z);g(this,q,t),console.log(e(this,q)),g(this,F,e(this,q).querySelectorAll("[data-tab]")),g(this,U,e(this,q).querySelector("[data-fluent-cart-product-item-price]")),g(this,j,e(this,q).querySelector("[data-fluent-cart-product-payment-type]")),g(this,Q,e(this,q).querySelector("[data-fluent-cart-product-quantity-container]")),g(this,Z,e(this,q).querySelector("[data-fluent-cart-add-to-cart-button]"))}init(){h(this,k,Pt).call(this),h(this,k,Wt).call(this)}handleVariationChange(t){t.closest("[data-tab-content]")}}F=new WeakMap,q=new WeakMap,U=new WeakMap,j=new WeakMap,Q=new WeakMap,Z=new WeakMap,k=new WeakSet,Pt=function(){e(this,F).forEach(t=>{t.addEventListener("click",()=>{h(this,k,Bt).call(this,t)})})},Wt=function(){const t=Array.from(e(this,F)).find(i=>i.classList.contains("active"));t&&h(this,k,vt).call(this,t)},Bt=function(t,i=!1){e(this,U)&&e(this,U).classList.add("is-hidden"),e(this,j)&&e(this,j).classList.add("is-hidden"),e(this,Q)&&e(this,Q).classList.add("is-hidden"),e(this,Z)&&e(this,Z).classList.add("is-hidden"),e(this,F).forEach(c=>c.classList.remove("active")),e(this,q).querySelectorAll("[data-tab-content]").forEach(c=>{c.classList.remove("active"),c.style.display="none"}),t.classList.add("active");const o=t.dataset.tab,n=e(this,q).querySelector(`#${o}`);n&&(n.classList.add("active"),h(this,k,Dt).call(this,n,400)),h(this,k,vt).call(this,t);let r=n==null?void 0:n.querySelector('[data-fluent-cart-product-variant][data-item-stock="in-stock"]');r||(r=n==null?void 0:n.querySelector("[data-fluent-cart-product-variant]")),r&&r.click()},Dt=function(t,i){t.style.opacity="0",t.style.display="block";const a=performance.now(),o=n=>{const r=n-a,c=Math.min(r/i,1);t.style.opacity=c,c<1&&requestAnimationFrame(o)};requestAnimationFrame(o)},vt=function(t){const i=e(this,q).querySelector("[data-tab-active-bar]");if(!i)return;const a=t.getBoundingClientRect(),o=t.parentElement.getBoundingClientRect();i.style.left=`${a.left-o.left}px`,i.style.width=`${a.width}px`};/*!
 * Lightbox Modified for fluentcart from v2.11.5 - Vanilla JS Version
 * Author: Lokesh Dhakar
 *
 * More info:
 * http://lokeshdhakar.com/projects/lightbox2/
 *
 * Copyright Lokesh Dhakar
 * Released under the MIT license
 * https://github.com/lokesh/lightbox2/blob/master/LICENSE
 *
 * @preserve
 */const Y=class Y{constructor(t={},i=[]){this.album=i,this.currentImageIndex=void 0,this.init(),this.options=Y.defaults,this.option(t),this.boundSizeOverlay=this.sizeOverlay.bind(this),this.boundKeyboardAction=this.keyboardAction.bind(this)}setAlbum(t=[]){this.album=t,this.currentImageIndex=0}static get defaults(){return{albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1,maxHeightPercentage:80}}get classList(){return{lightboxOverlay:"fc-lightboxOverlay",lightbox:"fc-lightbox",lbOuterContainer:"lb-outerContainer",lbContainer:"lb-container",lbImage:"lb-image",lbNav:"lb-nav",lbPrev:"lb-prev",lbPrevLink:"lb-prevLink",lbNext:"lb-next",lbNextLink:"lb-nextLink",lbLoader:"lb-loader",lbCancel:"lb-cancel",lbDataContainer:"lb-dataContainer",lbData:"lb-data",lbDetails:"lb-details",lbCaption:"lb-caption",lbNumber:"lb-number",lbNumbers:"lb-numbers",lbCloseContainer:"lb-closeContainer",lbClose:"lb-close",lbDisableScrolling:"lb-disable-scrolling"}}extend(t,i){for(const a in i)i.hasOwnProperty(a)&&(t[a]=i[a])}fadeIn(t,i,a){t.style.opacity=0,t.style.display="flex";let o=null;const n=r=>{o||(o=r);const c=(r-o)/i;t.style.opacity=Math.min(c,1),c<1?requestAnimationFrame(n):a&&a()};requestAnimationFrame(n)}fadeOut(t,i,a){let o=null;const n=r=>{o||(o=r);const c=(r-o)/i;t.style.opacity=Math.max(1-c,0),c<1?requestAnimationFrame(n):(t.style.display="none",a&&a())};requestAnimationFrame(n)}animate(t,i,a,o){const n={},r={};for(const m in i){const w=getComputedStyle(t);n[m]=parseFloat(w[m])||0,r[m]=parseFloat(i[m])}let c=null;const u=m=>{c||(c=m);const w=Math.min((m-c)/a,1),$=.5-Math.cos(w*Math.PI)/2;for(const I in i){const T=n[I]+(r[I]-n[I])*$;t.style[I]=T+"px"}w<1?requestAnimationFrame(u):o&&o()};requestAnimationFrame(u)}option(t){this.extend(this.options,t)}imageCountLabel(t,i){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,i)}init(){}shouldBuild(){return Y.isBuiltOnce===!1?(Y.isBuiltOnce=!0,!0):!1}ensureTemplateExist(){const t=this.classList;if(this.shouldBuild()){const i=`<div id="${t.lightboxOverlay}" tabindex="-1" class="${t.lightboxOverlay}"></div>
                <div id="${t.lightbox}" tabindex="-1" class="${t.lightbox}">
                   <div class="${t.lbOuterContainer}">
                      <div class="${t.lbContainer}">
                         <img class="${t.lbImage}" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/>
                         <div class="${t.lbNav}">
                             <div class="${t.lbCloseContainer}">
                               <a class="${t.lbClose}" role="button" tabindex="0">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024"><path fill="currentColor" d="M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"></path></svg>
                                </a>
                            </div>
                            <a class="${t.lbPrev}" role="button" tabindex="0" aria-label="Previous image" href="" ></a>
                            <a class="${t.lbNext}" role="button" tabindex="0" aria-label="Next image" href="" ></a>
                         </div>
                         <div class="${t.lbLoader}">
                            <a class="${t.lbCancel}" role="button" tabindex="0">
                                <span class="lb-spinner"></span>
                            </a>
                         </div>
                      </div>
                   </div>
                   <div class="${t.lbDataContainer}">
                      <div class="${t.lbData}">
                         <div class="${t.lbDetails}">
                            <span class="${t.lbCaption}"></span>
                            <span class="${t.lbNumber}"></span>
                         </div>
                      </div>
                   </div>
                </div>`;document.body.insertAdjacentHTML("beforeend",i)}}build(){this.ensureTemplateExist();const t=this.classList;this.lightbox=document.getElementById(t.lightbox),this.overlay=document.getElementById(t.lightboxOverlay),this.outerContainer=this.lightbox.querySelector(`.${t.lbOuterContainer}`),this.container=this.lightbox.querySelector(`.${t.lbContainer}`),this.image=this.lightbox.querySelector(`.${t.lbImage}`),this.nav=this.lightbox.querySelector(`.${t.lbNav}`);const i=getComputedStyle(this.container);this.containerPadding={top:parseInt(i.paddingTop,10),right:parseInt(i.paddingRight,10),bottom:parseInt(i.paddingBottom,10),left:parseInt(i.paddingLeft,10)};const a=getComputedStyle(this.image);this.imageBorderWidth={top:parseInt(a.borderTopWidth,10),right:parseInt(a.borderRightWidth,10),bottom:parseInt(a.borderBottomWidth,10),left:parseInt(a.borderLeftWidth,10)},this.overlay.style.display="none",this.overlay.addEventListener("click",()=>{this.end()}),this.lightbox.style.display="none",this.lightbox.addEventListener("click",n=>{n.target.id===t.lightbox&&this.end()}),this.outerContainer.addEventListener("click",n=>{n.target.id===t.lightbox&&this.end()}),this.lightbox.querySelector(`.${t.lbPrev}`).addEventListener("click",n=>{n.preventDefault(),this.currentImageIndex===0?this.changeImage(this.album.length-1):this.changeImage(this.currentImageIndex-1)}),this.lightbox.querySelector(`.${t.lbNext}`).addEventListener("click",n=>{n.preventDefault(),this.currentImageIndex===this.album.length-1?this.changeImage(0):this.changeImage(this.currentImageIndex+1)}),this.nav.addEventListener("mousedown",n=>{if(n.which===3){this.nav.style.pointerEvents="none";const r=()=>{setTimeout(()=>{this.nav.style.pointerEvents="auto"},0),this.lightbox.removeEventListener("contextmenu",r)};this.lightbox.addEventListener("contextmenu",r)}}),this.lightbox.querySelectorAll(`.${t.lbLoader}, .${t.lbClose}`).forEach(n=>{n.addEventListener("click",r=>(this.end(),!1)),n.addEventListener("keyup",r=>{if(r.which===13||r.which===32)return this.end(),!1})})}start(t=0,i=null){this.build(),window.addEventListener("resize",this.boundSizeOverlay),this.sizeOverlay();const a=window.pageYOffset+this.options.positionFromTop,o=window.pageXOffset;this.lightbox.style.top=a+"px",this.lightbox.style.left=o+"px",this.fadeIn(this.lightbox,this.options.fadeDuration),document.body.style.overflow="hidden",this.options.disableScrolling&&document.body.classList.add(this.classList.lbDisableScrolling),this.changeImage(t),typeof i=="function"&&i()}changeImage(t){const i=this.classList,a=this,o=this.album[t].link,n=o.split(".").slice(-1)[0];this.disableKeyboardNav(),this.fadeIn(this.overlay,this.options.fadeDuration);const r=this.lightbox.querySelector(`.${i.lbLoader}`);this.fadeIn(r,500),this.lightbox.querySelectorAll(`.${i.lbImage}, .${i.lbNav}, .${i.lbPrev}, .${i.lbNext}, .${i.lbDataContainer}, .${i.lbNumbers}, .${i.lbCaption}`).forEach(m=>m.style.display="none"),this.outerContainer.classList.add("animating");const u=new Image;u.onload=()=>{setTimeout(()=>{this.onImageLoaded(u,t,a,o,n)},300)},u.src=this.album[t].link,this.currentImageIndex=t}onImageLoaded(t,i,a,o,n){let r,c,u,m,w,$;const I=this.lightbox.querySelector(`.${this.classList.lbImage}`);I.setAttribute("alt",a.album[i].alt),I.setAttribute("src",o),I.style.width=t.width+"px",I.style.height=t.height+"px";const T=t.width/t.height;$=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,w=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;const D=this.options.maxHeightPercentage||80,A=w*D/100;if(m=$-a.containerPadding.left-a.containerPadding.right-a.imageBorderWidth.left-a.imageBorderWidth.right-20,u=Math.min(A-a.containerPadding.top-a.containerPadding.bottom-a.imageBorderWidth.top-a.imageBorderWidth.bottom,w-a.containerPadding.top-a.containerPadding.bottom-a.imageBorderWidth.top-a.imageBorderWidth.bottom-a.options.positionFromTop-70),n==="svg"?(T>=1?(c=m,r=parseInt(m/T,10)):(c=parseInt(u/T,10),r=u),r>u&&(r=u,c=parseInt(u*T,10)),I.style.width=c+"px",I.style.height=r+"px"):(a.options.fitImagesInViewport?(a.options.maxWidth&&a.options.maxWidth<m&&(m=a.options.maxWidth),a.options.maxHeight&&a.options.maxHeight<u&&(u=a.options.maxHeight)):(m=a.options.maxWidth||t.width||m,u=a.options.maxHeight||t.height||u),(t.width>m||t.height>u)&&(t.width/m>t.height/u?(c=m,r=parseInt(t.height/(t.width/c),10),r>u&&(r=u,c=parseInt(t.width/(t.height/r),10))):(r=u,c=parseInt(t.width/(t.height/r),10),c>m&&(c=m,r=parseInt(t.height/(t.width/c),10))),I.style.width=c+"px",I.style.height=r+"px")),r+a.containerPadding.top+a.containerPadding.bottom+a.imageBorderWidth.top+a.imageBorderWidth.bottom+a.options.positionFromTop+70>w){const x=w-a.containerPadding.top-a.containerPadding.bottom-a.imageBorderWidth.top-a.imageBorderWidth.bottom-a.options.positionFromTop-70,H=x/r;r=x,c=Math.floor(c*H),I.style.width=c+"px",I.style.height=r+"px"}a.sizeContainer(parseInt(I.style.width),parseInt(I.style.height))}sizeOverlay(){setTimeout(()=>{this.overlay.style.width=Math.max(document.body.scrollWidth,document.body.offsetWidth,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth)+"px",this.overlay.style.height=window.innerHeight+"px"},0)}sizeContainer(t,i){const a=this.outerContainer.offsetWidth,o=this.outerContainer.offsetHeight,n=t+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,r=i+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom,c=()=>{this.lightbox.querySelector(`.${this.classList.lbDataContainer}`).style.width=n+"px";const u=this.lightbox.querySelector(`.${this.classList.lbPrevLink}`),m=this.lightbox.querySelector(`.${this.classList.lbNextLink}`);u&&(u.style.height=r+"px"),m&&(m.style.height=r+"px"),this.overlay.focus(),this.showImage()};a!==n||o!==r?this.animate(this.outerContainer,{width:n,height:r},this.options.resizeDuration,c):c()}showImage(){const t=this.lightbox.querySelector(`.${this.classList.lbLoader}`);t.style.display="none",this.fadeIn(this.lightbox.querySelector(`.${this.classList.lbImage}`),this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()}updateNav(){let t=!1;try{document.createEvent("TouchEvent"),t=!!this.options.alwaysShowNavOnTouchDevices}catch{}if(this.lightbox.querySelector(`.${this.classList.lbNav}`).style.display="block",this.album.length>1)if(this.options.wrapAround)t&&(this.lightbox.querySelector(`.${this.classList.lbPrev}`).style.opacity="1"),this.lightbox.querySelector(`.${this.classList.lbPrev}`).style.display="block",this.lightbox.querySelector(`.${this.classList.lbNext}`).style.display="block";else{if(this.currentImageIndex>0){const i=this.lightbox.querySelector(`.${this.classList.lbPrev}`);i.style.display="block",t&&(i.style.opacity="1")}if(this.currentImageIndex<this.album.length-1){const i=this.lightbox.querySelector(`.${this.classList.lbNext}`);i.style.display="block",t&&(i.style.opacity="1")}}}updateDetails(){if(typeof this.album[this.currentImageIndex].title<"u"&&this.album[this.currentImageIndex].title!==""){const t=this.lightbox.querySelector(".lb-caption");this.options.sanitizeTitle?t.textContent=this.album[this.currentImageIndex].title:t.innerHTML=this.album[this.currentImageIndex].title,this.fadeIn(t,300)}if(this.album.length>1&&this.options.showImageNumberLabel){const t=this.imageCountLabel(this.currentImageIndex+1,this.album.length),i=this.lightbox.querySelector(`.${this.classList.lbNumber}`);i.textContent=t,this.fadeIn(i,300)}else this.lightbox.querySelector(`.${this.classList.lbNumber}`).style.display="none";this.outerContainer.classList.remove("animating"),this.fadeIn(this.lightbox.querySelector(`.${this.classList.lbDataContainer}`),this.options.resizeDuration,()=>this.sizeOverlay())}preloadNeighboringImages(){if(this.album.length>this.currentImageIndex+1){const t=new Image;t.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){const t=new Image;t.src=this.album[this.currentImageIndex-1].link}}enableKeyboardNav(){document.addEventListener("keyup",this.boundKeyboardAction),this.lightbox.addEventListener("keyup",this.boundKeyboardAction),this.overlay.addEventListener("keyup",this.boundKeyboardAction)}disableKeyboardNav(){document.removeEventListener("keyup",this.boundKeyboardAction),this.lightbox.removeEventListener("keyup",this.boundKeyboardAction),this.overlay.removeEventListener("keyup",this.boundKeyboardAction)}keyboardAction(t){const n=t.keyCode;n===27?(t.stopPropagation(),this.end()):n===37?this.currentImageIndex!==0?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):n===39&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))}end(){this.disableKeyboardNav(),window.removeEventListener("resize",this.boundSizeOverlay),this.fadeOut(this.lightbox,this.options.fadeDuration),this.fadeOut(this.overlay,this.options.fadeDuration),document.body.style.overflow="inherit",this.options.disableScrolling&&document.body.classList.remove(this.classList.lbDisableScrolling),setTimeout(()=>{const t=document.getElementById("lightbox"),i=document.getElementById("lightboxOverlay");t&&t.remove(),i&&i.remove()},this.options.fadeDuration)}};Ot(Y,"isBuiltOnce",!1);let It=Y;window.addEventListener("fluent_cart_app_loaded",function(b){document.querySelectorAll("[data-fluent-cart-product-gallery-wrapper]").forEach((t,i)=>{new window.FluentCartImageGallery().init(t)})});window.addEventListener("fluentCartSingleProductModalOpened",function(b){let t=!1;window.fluentcart_single_product_vars.enable_image_zoom_in_modal==="yes"&&(t=!0),document.querySelectorAll("[data-fluent-cart-product-gallery-wrapper]").forEach((i,a)=>{new window.FluentCartImageGallery().init(i,t)})});var W,X,N,S,E,rt,B,R,lt,J,y,Nt,Ht,Mt,xt,zt,Ft,Rt,Lt,ce,Kt,Gt,Yt,Ut,wt;class he{constructor(){f(this,y);f(this,W);f(this,X);f(this,N);f(this,S);f(this,E,0);f(this,rt);f(this,B);f(this,R);f(this,lt);f(this,J,"all")}init(t,i=!0){this.container=t,g(this,lt,this.container.getAttribute("data-product-id")),g(this,J,this.container.getAttribute("data-thumbnail-mode")||"all"),g(this,rt,i),g(this,B,this.findInContainer("[data-fluent-cart-thumb-control-button]")),g(this,R,this.findOneInContainer("[data-fluent-cart-single-product-page-product-thumbnail-controls]")),g(this,W,this.findOneInContainer("[data-fluent-cart-single-product-page-product-thumbnail]")),h(this,y,Nt).call(this),h(this,y,Ht).call(this),h(this,y,Rt).call(this),h(this,y,Mt).call(this),h(this,y,Kt).call(this),h(this,y,Yt).call(this)}updateGalleryByVariation(t=0){if(e(this,J)==="all"){this.findInContainer("[data-fluent-cart-thumb-control-button]").forEach(n=>n.classList.remove("is-hidden"));return}const i=this.findInContainer(`[data-fluent-cart-thumb-control-button][data-variation-id="${t}"]`);i.length>0&&(this.findInContainer(`[data-fluent-cart-thumb-control-button][data-variation-id]:not([data-variation-id="${t}"])`).forEach(n=>n.classList.add("is-hidden")),i.forEach(n=>n.classList.remove("is-hidden"))),this.findInContainer('[data-fluent-cart-thumb-control-button][data-variation-id="0"]').forEach(o=>o.classList.remove("is-hidden"))}findInContainer(t){return this.container.querySelectorAll(t)}findOneInContainer(t){return this.container.querySelector(t)}}W=new WeakMap,X=new WeakMap,N=new WeakMap,S=new WeakMap,E=new WeakMap,rt=new WeakMap,B=new WeakMap,R=new WeakMap,lt=new WeakMap,J=new WeakMap,y=new WeakSet,Nt=function(){window.addEventListener("fluentCartSingleProductVariationChanged",t=>{var o;if(t.detail.productId!=e(this,lt))return;g(this,E,t.detail.variationId),this.updateGalleryByVariation(e(this,E));let a=(o=e(this,R))==null?void 0:o.querySelectorAll(`[data-fluent-cart-thumb-control-button][data-variation-id="${e(this,E)}"]`);h(this,y,Gt).call(this,a)})},Ht=function(){var a,o,n,r;const t=(a=e(this,R))==null?void 0:a.querySelectorAll("[data-fluent-cart-thumb-control-button]:not(.is-hidden)"),i=(o=e(this,R))==null?void 0:o.querySelector(".active[data-fluent-cart-thumb-control-button]:not(.is-hidden)");i?g(this,E,i.dataset.variationId):g(this,E,((r=(n=t==null?void 0:t[0])==null?void 0:n.dataset)==null?void 0:r.variationId)||0),this.updateGalleryByVariation(e(this,E))},Mt=function(){e(this,W).removeEventListener("click",h(this,y,xt).bind(this)),g(this,X,new It({},[])),e(this,W).addEventListener("click",h(this,y,xt).bind(this))},xt=function(t){const i=e(this,W).parentElement,a=i.style.position,o=!a||a==="",n=document.querySelector("[data-fluent-cart-shop-app-single-product-modal]");n&&window.FluentCartSingleProductModal.closeModal(n),o&&(i.style.position="relative");const r=document.createElement("div");r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.right="0",r.style.bottom="0",r.style.zIndex="99999",document.body.appendChild(r),e(this,N)&&e(this,N).closezoom&&e(this,N).closezoom(),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),o&&(i.style.position="")},1e3);const c=t.target;let u=h(this,y,zt).call(this);const m=h(this,y,Lt).call(this,u,c.getAttribute("src"));m>-1&&(e(this,X).setAlbum(u),e(this,X).start(m,()=>{}))},zt=function(){if(e(this,J)==="all")return h(this,y,Ft).call(this);{let t=e(this,S)[e(this,E)],i=e(this,S)[0];return t&&i&&(t=[...t,...i]),(!t||t.length===0)&&(t=e(this,S)[0]),t}},Ft=function(){const t=[],i=new Set,a=o=>{Array.isArray(o)&&o.forEach(n=>{i.has(n.link)||(t.push(n),i.add(n.link))})};return e(this,E)&&e(this,S)[e(this,E)]&&a(e(this,S)[e(this,E)]),e(this,S)[0]&&a(e(this,S)[0]),Object.keys(e(this,S)).forEach(o=>{o!=e(this,E)&&o!=0&&a(e(this,S)[o])}),t.length>0?t:e(this,S)[0]||[]},Rt=function(){window.fluentcart_single_product_vars.enable_image_zoom==="yes"&&e(this,rt)&&e(this,N)==null&&e(this,W)&&(window.onload=function(){},g(this,N,xZoom(e(this,W),{tint:!1,Yoffset:120,zoomWidth:500,zoomHeight:400,position:"inside",lensSize:300})))},Lt=function(t,i){return Array.isArray(t)?t.findIndex(a=>a.link===i):-1},ce=function(){return window.matchMedia("(hover: hover) and (pointer: fine)").matches},Kt=function(){const t={};e(this,B).length>0&&e(this,B).forEach((i,a)=>{const o=i.dataset.variationId.toString(),n=i.querySelector("[data-fluent-cart-single-product-page-product-thumbnail-controls-thumb]");n&&(t.hasOwnProperty(o)||(t[o]=[]),h(this,y,Lt).call(this,t[o],n.src)===-1&&t[o].push({alt:n.alt,link:n.src,title:n.alt}))}),g(this,S,t)},Gt=function(t){if(e(this,B).forEach(i=>i.classList.remove("active")),t&&t.length>0){const i=t[0];i.classList.add("active"),h(this,y,wt).call(this,i)}},Yt=function(){e(this,B).forEach(t=>{t.addEventListener("click",i=>{h(this,y,Ut).call(this,t)})})},Ut=function(t){e(this,B).forEach(a=>a.classList.remove("active")),t.classList.add("active");const i=t.dataset.variationId;i!==void 0&&g(this,E,i),h(this,y,wt).call(this,t)},wt=function(t){const i=this.findOneInContainer("[data-fluent-cart-single-product-page-product-thumbnail]");if(!i)return;let a=t.dataset.url;a===void 0&&(a=i.dataset.defaultImageUrl),i.setAttribute("src",a)};window.FluentCartImageGallery=he;document.addEventListener("DOMContentLoaded",()=>{var t,i,a,o,n,r,c,u,m,w,$,I,T,D,A,x,H,d,jt,At,ue,Qt,Zt,ut,Xt,Jt,Vt,Et,Ct,mt,te,ee,ie,St,se,ae,ne,me,pe,oe,qt;const dt=class dt{constructor(){f(this,d);f(this,i);f(this,a);f(this,o);f(this,n);f(this,r);f(this,c);f(this,u);f(this,m);f(this,w);f(this,$);f(this,I);f(this,T);f(this,D,0);f(this,A);f(this,x);f(this,H)}toTitleCase(s){return s.replace(/\w\S*/g,function(l){return l.charAt(0).toUpperCase()+l.substr(1).toLowerCase()})}$t(s){return window.fluentcart_single_product_vars.trans[s]||s}findInContainer(s){return e(this,i).querySelectorAll(s)}findOneInContainer(s){return e(this,i).querySelector(s)}init(s,l){return g(this,T,l),g(this,i,s),g(this,a,this.findInContainer("[data-fluent-cart-product-variant]")),g(this,H,e(this,i).getAttribute("data-product-id")),g(this,r,this.findOneInContainer("[data-fluent-cart-product-qty-increase-button]")),g(this,c,this.findOneInContainer("[data-fluent-cart-product-qty-decrease-button]")),g(this,o,this.findOneInContainer("[data-fluent-cart-single-product-page-product-quantity-input]")),g(this,n,this.findOneInContainer("[data-fluent-cart-product-quantity-container]")),g(this,u,this.findInContainer("[data-fluent-cart-add-to-cart-button]")),g(this,m,this.findInContainer("[data-fluent-cart-direct-checkout-button]")),g(this,w,this.findInContainer("[data-fluent-cart-thumb-control-button]")),g(this,$,this.findOneInContainer("[data-fluent-cart-single-product-page-product-thumbnail-controls]")),g(this,A,this.findOneInContainer("[data-fluent-cart-product-item-price]")),g(this,x,this.findOneInContainer("[data-fluent-cart-product-payment-type]")),h(this,d,te).call(this),h(this,d,ee).call(this),h(this,d,ie).call(this),h(this,d,se).call(this),h(this,d,Vt).call(this),h(this,d,Zt).call(this),h(this,d,Qt).call(this),h(this,d,At).call(this),h(this,d,jt).call(this),g(dt,t,this),this}updateGalleryByVariation(s=0){const l=document.querySelectorAll(`[data-fluent-cart-thumb-control-button][data-variation-id="${s}"]`);l.length>0?(document.querySelectorAll(`[data-fluent-cart-thumb-control-button][data-variation-id]:not([data-variation-id="${s}"])`).forEach(v=>v.classList.add("is-hidden")),l.forEach(v=>v.classList.remove("is-hidden"))):document.querySelectorAll('[data-fluent-cart-thumb-control-button][data-variation-id="0"]').forEach(v=>v.classList.remove("is-hidden"))}};t=new WeakMap,i=new WeakMap,a=new WeakMap,o=new WeakMap,n=new WeakMap,r=new WeakMap,c=new WeakMap,u=new WeakMap,m=new WeakMap,w=new WeakMap,$=new WeakMap,I=new WeakMap,T=new WeakMap,D=new WeakMap,A=new WeakMap,x=new WeakMap,H=new WeakMap,d=new WeakSet,jt=function(){window.addEventListener("resize",s=>{h(this,d,At).call(this)})},At=function(){const s=document.querySelector(".fluent-cart-single-product-page");s&&(s.offsetWidth<=815?s.classList.add("is-mobile"):s.classList.remove("is-mobile"))},ue=function(s,l){return Array.isArray(s)?s.findIndex(p=>p.link===l):-1},Qt=function(){this.findOneInContainer("[data-fluent-cart-product-tab]")&&(g(this,I,new de(e(this,i))),e(this,I).init())},Zt=function(){var ct,ft,G,bt,V,tt,et,it,st,at,nt,ot;const s=this.findOneInContainer(".selected[data-fluent-cart-product-variant]"),l=s==null?void 0:s.dataset.cartId;s==null||s.dataset.itemPrice;const p=s==null?void 0:s.dataset.subscriptionTerms,v=s==null?void 0:s.dataset.paymentType;let L=(ct=window.fluentcart_single_product_vars)==null?void 0:ct.in_stock_status,_=s==null?void 0:s.dataset.stockManagement,M=L;if(_==="yes"&&(M=s==null?void 0:s.dataset.itemStock),e(this,x)&&p&&(e(this,x).innerHTML=p),s!=null&&s.dataset.comparePrice&&e(this,x)&&(e(this,x).insertAdjacentHTML("afterbegin",' <span class="fc-compare-price" style="margin-right: 4px;"><del> '+(s==null?void 0:s.dataset.comparePrice)+"</del></span>"),e(this,x).classList.remove("is-hidden")),l!==void 0&&(e(this,u).forEach(O=>{O.setAttribute("data-cart-id",l)}),h(this,d,ut).call(this,l,M)),l===void 0&&e(this,a).length===0){const O=(ft=e(this,m)[0])==null?void 0:ft.dataset.cartId,z=(G=e(this,m)[0])==null?void 0:G.dataset.stockAvailability;h(this,d,ut).call(this,O,z)}const P=(bt=e(this,$))==null?void 0:bt.querySelectorAll("[data-fluent-cart-thumb-control-button]:not(.is-hidden)");g(this,D,((tt=(V=P==null?void 0:P[0])==null?void 0:V.dataset)==null?void 0:tt.variationId)||0),h(this,d,Et).call(this,P);const K=new URL(window.location.href).searchParams;if(K.has("selected")){const O=K.get("selected"),z=this.findOneInContainer(`[data-fluent-cart-product-variant][data-cart-id="${O}"]`);z&&h(this,d,Ct).call(this,z)}h(this,d,ne).call(this),h(this,d,ae).call(this);const gt=((et=e(this,a)[0])==null?void 0:et.dataset.paymentType)||((it=e(this,n))==null?void 0:it.dataset.paymentType),ht=((st=e(this,m)[0])==null?void 0:st.dataset.variationType)||((at=e(this,n))==null?void 0:at.dataset.variationType);gt==="subscription"&&ht==="simple"&&((nt=e(this,x))==null||nt.classList.remove("is-hidden")),v==="subscription"&&((ot=e(this,x))==null||ot.classList.remove("is-hidden")),(s==null?void 0:s.dataset.cartId)===(s==null?void 0:s.dataset.defaultVariationId)&&e(this,w).forEach(O=>{O.classList.remove("is-hidden")}),h(this,d,mt).call(this,M)},ut=function(s,l){var v;const p=(((v=window.fluentcart_single_product_vars)==null?void 0:v.out_of_stock_status)||"").toString();e(this,m).forEach(L=>{if(l!==p){const _=L.dataset.quantity;let M=L.getAttribute("data-url")+s+"&quantity="+_;L.setAttribute("href",M),L.setAttribute("data-cart-id",s),L.classList.remove("is-hidden"),L.classList.remove("disabled"),L.removeAttribute("disabled")}else L.removeAttribute("href"),L.classList.add("is-hidden"),L.setAttribute("disabled","disabled")})},Xt=function(s){e(this,m).forEach(l=>{l.setAttribute("data-quantity",s);const p=l.getAttribute("data-cart-id");if(p){let v=l.getAttribute("data-url")+p+"&quantity="+s;l.setAttribute("href",v)}})},Jt=function(s){e(this,u).forEach(l=>{l.setAttribute("data-quantity",s)})},Vt=function(){e(this,a).forEach(s=>{s.addEventListener("click",l=>{h(this,d,Ct).call(this,s)})})},Et=function(s){if(s&&s.length>0){const l=s[0];l.classList.add("active"),h(this,d,qt).call(this,l)}},Ct=function(s){var V,tt,et,it,st,at,nt,ot,O,z,Tt,_t;e(this,a).forEach(C=>C.classList.remove("selected")),h(this,d,St).call(this);const l=s.dataset.cartId,p=s.dataset.itemPrice,v=s==null?void 0:s.dataset.priceSuffix,L=s.dataset.subscriptionTerms;g(this,D,l);let _=(V=window.fluentcart_single_product_vars)==null?void 0:V.in_stock_status,M=s==null?void 0:s.dataset.stockManagement,P=_;M==="yes"&&(P=s==null?void 0:s.dataset.itemStock);const pt=s.dataset.paymentType;e(this,A)&&p&&(e(this,A).textContent=p,e(this,A).classList.remove("is-hidden"),v&&e(this,A).insertAdjacentHTML("beforeend",' <span class="fct_price_suffix">'+v+"</span>")),e(this,x)&&L&&(e(this,x).innerHTML=L,v&&e(this,x).insertAdjacentHTML("beforeend",' <span class="fct_price_suffix">'+v+"</span>"),e(this,A).innerHTML="");const K=s.dataset.comparePrice;K&&(e(this,x)&&(e(this,x).insertAdjacentHTML("afterbegin",' <span class="fc-compare-price mr-4" style="margin-right: 4px;"><del>'+K+"</del></span>"),e(this,x).classList.remove("is-hidden")),e(this,A)&&(e(this,A).insertAdjacentHTML("afterbegin",' <span class="fc-compare-price mr-4" style="margin-right: 4px;"><del>'+K+"</del></span>"),e(this,A).classList.remove("is-hidden"))),pt==="onetime"?((tt=e(this,x))==null||tt.classList.add("is-hidden"),(et=e(this,n))==null||et.classList.remove("is-hidden"),e(this,A).classList.remove("is-hidden")):(e(this,A).classList.add("is-hidden"),(it=e(this,x))==null||it.classList.remove("is-hidden"),(st=e(this,n))==null||st.classList.add("is-hidden"));const gt=document.querySelectorAll(`[data-fluent-cart-thumb-control-button][data-variation-id="${l}"]`);let ht=l;gt.length<1&&(ht=0),l?((O=e(this,o))==null||O.removeAttribute("disabled"),(z=e(this,r))==null||z.removeAttribute("disabled"),(Tt=e(this,c))==null||Tt.removeAttribute("disabled")):((at=e(this,o))==null||at.setAttribute("disabled","disabled"),(nt=e(this,r))==null||nt.setAttribute("disabled","disabled"),(ot=e(this,c))==null||ot.setAttribute("disabled","disabled")),l!==void 0&&(e(this,w).forEach(C=>C.classList.remove("active")),e(this,u).forEach(C=>{C.setAttribute("data-cart-id",l)}),h(this,d,ut).call(this,l,P),pt==="subscription"?e(this,u).forEach(C=>C.classList.add("is-hidden")):e(this,u).forEach(C=>{C.classList.remove("is-hidden"),C.setAttribute("data-cart-id",l)}));const ct=(_t=e(this,$))==null?void 0:_t.querySelectorAll(`[data-fluent-cart-thumb-control-button][data-variation-id="${ht}"]`);h(this,d,Et).call(this,ct),P!==void 0&&h(this,d,mt).call(this,P),s.classList.add("selected"),this.findInContainer("[data-fluent-cart-single-product-page-product-variant-price-info]").forEach(C=>C.classList.remove("selected"));const G=this.findOneInContainer(`[data-fluent-cart-single-product-page-product-variant-price-info][data-cart-id="${l}"]`);G==null||G.classList.add("selected"),this.findInContainer(`[data-fluent-cart-single-product-page-product-quantity][data-cart-id="${l}"]`).forEach(C=>C.classList.add("selected")),window.dispatchEvent(new CustomEvent("fluentCartSingleProductVariationChanged",{detail:{productId:e(this,H),variationId:l}}))},mt=function(s){if(!s)return;const l=this.findOneInContainer("[data-fluent-cart-product-stock]");l&&(l.innerHTML=this.$t(this.toTitleCase(s.replaceAll("-"," ")))),s===window.fluentcart_single_product_vars.out_of_stock_status?(e(this,u).forEach(p=>{const v=p.querySelector(".text");v&&(v.textContent=window.fluentcart_single_product_vars.out_of_stock_button_text),p.setAttribute("disabled","disabled"),p.classList.add("out-of-stock")}),e(this,m).forEach(p=>p.classList.add("is-hidden"))):(e(this,u).forEach(p=>{const v=p.querySelector(".text");v&&(v.textContent=window.fluentcart_single_product_vars.cart_button_text),p.classList.remove("out-of-stock"),p.removeAttribute("disabled")}),e(this,m).forEach(p=>p.classList.remove("is-hidden")))},te=function(){e(this,r)&&e(this,r).addEventListener("click",async s=>{s.preventDefault();const l=document.querySelector(`[data-fluent-cart-product-variant][data-cart-id="${e(this,D)}"]`),p=l==null?void 0:l.dataset.availableStock;let v=parseInt(e(this,o).value,10)||1,L=e(this,o).getAttribute("max"),_=L?parseInt(L,10):1e4;if(v>=_){window.Toastify&&new Toastify({text:`You can only purchase a maximum of ${_} item${_>1?"s":""}.`,className:"warning",duration:3e3,gravity:"top",position:"right",slideFrom:"right",type:"warning"}).showToast();return}if(v++,p!=="unlimited"&&v>parseInt(p)){window.Toastify&&new Toastify({text:"You have reached the maximum quantity.",className:"warning",duration:3e3,gravity:"top",position:"right",slideFrom:"right",type:"warning"}).showToast();return}e(this,o).value=v,e(this,o).dispatchEvent(new Event("input"))})},ee=function(){e(this,c)&&e(this,c).addEventListener("click",s=>{s.preventDefault();let l=parseInt(e(this,o).value,10)||1;l>1&&l--,e(this,o).value=l,e(this,o).dispatchEvent(new Event("input"))})},ie=function(){e(this,o)&&e(this,o).addEventListener("input",()=>{let s=parseInt(e(this,o).value,10);isNaN(s)||s<1?s=1:s>1e4&&(s=1e4),e(this,o).value=s,h(this,d,Xt).call(this,s),h(this,d,Jt).call(this,s)})},St=function(){e(this,o)&&(e(this,o).value=1,e(this,o).dispatchEvent(new Event("input")))},se=function(){const s="single_product_page_cart_updated_"+e(this,T);e(this,u).forEach(l=>{l.setAttribute("data-action-name",s),l.setAttribute("data-error-action-name",s)}),document.addEventListener(s,()=>{h(this,d,St).call(this)})},ae=function(){var l;((l=e(this,a)[0])==null?void 0:l.dataset.paymentType)==="subscription"&&e(this,u).forEach(p=>{p.setAttribute("data-cart-id","")})},ne=function(){var v,L,_;let s=(v=window.fluentcart_single_product_vars)==null?void 0:v.in_stock_status,l=(L=e(this,a)[0])==null?void 0:L.dataset.stockManagement,p=s;l==="yes"&&(p=(_=e(this,a)[0])==null?void 0:_.dataset.itemStock),p===window.fluentcart_single_product_vars.out_of_stock_status&&h(this,d,mt).call(this,p)},me=function(){e(this,u).forEach(s=>{s.setAttribute("data-cart-id","")})},pe=function(){e(this,w).forEach(s=>{s.addEventListener("click",l=>{h(this,d,oe).call(this,s)})})},oe=function(s){e(this,w).forEach(l=>l.classList.remove("active")),s.classList.add("active"),h(this,d,qt).call(this,s)},qt=function(s){const l=this.findOneInContainer("[data-fluent-cart-single-product-page-product-thumbnail]");if(!l)return;let p=s.dataset.url;p===void 0&&(p=l.dataset.defaultImageUrl),l.setAttribute("src",p)},f(dt,t,null);let b=dt;document.querySelectorAll("[data-fluent-cart-product-pricing-section]").forEach((kt,s)=>{new b().init(kt,s)}),window.addEventListener("fluentCartSingleProductModalOpened",function(kt){document.querySelectorAll("[data-fluent-cart-product-pricing-section]").forEach((s,l)=>{})}),window.FluentCartSingleProduct=b});
