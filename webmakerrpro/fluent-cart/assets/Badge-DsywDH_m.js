import{S as w}from"./Str-DQr93RbR.js";import{A as x}from"./Arr-MwYQQ3qa.js";import{b as p,o as s,w as f,A as C,H as A,a as g,r as _,c as o,e as k,d as z,f as b,t as y,F as h,h as T,T as I,g as P}from"./vue.esm-bundler-VLZRLwDo.js";import{_ as m}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{t as N}from"./Translator-B6cROAk_.js";import{_ as H}from"./DynamicIcon-B1vpMEi_.js";const B=n=>"fcart-"+w.snake(x.get(window,"fluentCartAdminApp.app_config.version","1.0.0"))+"_"+n;class ee{static get(a,e=""){let i=localStorage.getItem(B(a));if(i&&["{","["].indexOf(i[0])!==-1)i=JSON.parse(i);else{if(i==="true")return!0;if(i==="false")return!1}return i||e}static set(a,e){typeof e=="object"&&(e=JSON.stringify(e)),localStorage.setItem(B(a),e)}static remove(a){localStorage.removeItem(B(a))}static clear(){localStorage.clear()}static serverMaxUploadSize(){return x.get(window,"fluentCartAdminApp.max_upload_size")||""}static readableFileSizeFromBytes(a){if(!a)return"";const e=Math.floor(Math.log(a)/Math.log(1024)),i=["B","KB","MB","GB","TB"];return(a/Math.pow(1024,e)).toFixed(2)+" "+i[e]}}const E={name:"IconButton",props:{title:{type:String},href:{type:String},target:{type:String},border:{type:String},router_link:{type:Boolean},to:{type:Object},size:{type:String},tag:{type:String},circle:{type:Boolean},bg:{type:String},hover:{type:String}},computed:{isBorder(){return this.border?"border-"+this.border:""},isSize(){return this.size?this.size:""},isTag(){return this.tag?this.tag:"div"},isCircle(){return this.circle?"is-circle":""},isBg(){return this.bg?this.bg:""},isHover(){return this.hover?"hover-"+this.hover:""}}};function L(n,a,e,i,l,r){const c=g("router-link");return e.to?(s(),p(c,{key:0,to:e.to,class:C(["icon-button",[r.isBorder,r.isSize,r.isCircle,r.isBg,r.isHover]]),title:e.title,target:e.target},{default:f(()=>[_(n.$slots,"default")]),_:3},8,["to","class","title","target"])):(s(),p(A(r.isTag),{key:1,class:C(["icon-button",[r.isBorder,r.isSize,r.isCircle,r.isBg,r.isHover]]),href:e.href,title:e.title,target:e.target},{default:f(()=>[_(n.$slots,"default")]),_:3},8,["class","href","title","target"]))}const te=m(E,[["render",L]]),M={props:{table:{type:Object,required:!1},pagerSizes:{type:Boolean,default:!0},pagination:{required:!0,type:Object},extra_sizes:{required:!1,type:Array,default(){return[]}},hide_on_single:{required:!1,type:Boolean,default(){return!0}},background:{type:Boolean,default:!0},layout:{type:String,default:"prev, pager, next"},pager_count:{type:Number,default:5}},data(){return{currentPage:1}},computed:{page_sizes(){const n=[];this.pagination.per_page<10&&n.push(this.pagination.per_page);const a=[10,20,50,80,100,120,150];return[...n,...a,...this.extra_sizes]},totalPage(){const n=this.pagination.per_page,a=this.pagination.total;return isNaN(a)||a<=0?0:Math.ceil(a/n)}},methods:{translate:N,changePage(n){var e;let a=this.getCurrentPageCount(n,this.pagination.per_page);this.currentPage=n,this.pagination.current_page=n,this.$emit("currentPageChanged",{page:n,currentPageCount:a}),this.$emit("fetch"),(e=this.table)==null||e.handlePageChange()},changeSize(n){var a;this.currentPage=1,this.pagination.current_page=1,this.$emit("onPerPageChanged",n),this.$emit("fetch"),(a=this.table)==null||a.handlePerPageChange()},getCurrentPageCount(n,a){return(n<this.pagination.last_page?a:this.pagination.total%a)||a}}},V={class:"pagination-wrap"},q={key:0,class:"pager-wrap"},D={class:"text"},F={class:"el-pagination"},O={class:"text"};function j(n,a,e,i,l,r){const c=g("el-option"),S=g("el-select"),v=g("el-pagination");return s(),o("div",V,[e.pagerSizes?(s(),o("div",q,[b("span",D,y(n.$t("Page %s of %s",l.currentPage,r.totalPage)),1),b("div",F,[z(S,{onChange:r.changeSize,modelValue:e.pagination.per_page,"onUpdate:modelValue":a[0]||(a[0]=t=>e.pagination.per_page=t),placeholder:"Select"},{default:f(()=>[(s(!0),o(h,null,T(r.page_sizes,t=>(s(),p(c,{key:t,label:t+" / page",value:t},null,8,["label","value"]))),128))]),_:1},8,["onChange","modelValue"])]),b("span",O,y(r.translate("Total %s",e.pagination.total)),1)])):k("",!0),z(v,{ref:"paginationRef","hide-on-single-page":e.hide_on_single,background:e.background,"current-page":e.pagination.current_page,layout:e.layout,onCurrentChange:r.changePage,"page-sizes":r.page_sizes,total:e.pagination.total,"page-count":e.pagination.last_page,"pager-count":e.pager_count,"page-size":e.pagination.per_page,"onUpdate:pageSize":a[1]||(a[1]=t=>e.pagination.per_page=t)},null,8,["hide-on-single-page","background","current-page","layout","onCurrentChange","page-sizes","total","page-count","pager-count","page-size"])])}const ae=m(M,[["render",j]]),U={key:0},J={__name:"TransitionAccordion",props:{visible:{type:Boolean,default:!1},duration:{type:Number,default:300}},setup(n){const e=n.duration,i=t=>{t.style.height="0",t.style.opacity="0",t.style.overflow="hidden"},l=(t,u)=>{const d=t.scrollHeight+"px";t.style.transition=`height ${e}ms ease, opacity ${e}ms ease`,requestAnimationFrame(()=>{t.style.height=d,t.style.opacity="1"}),setTimeout(()=>u(),e)},r=t=>{t.style.height="auto",t.style.overflow=""},c=t=>{t.style.height=t.scrollHeight+"px",t.style.opacity="1",t.style.overflow="hidden"},S=(t,u)=>{t.offsetHeight,t.style.transition=`height ${e}ms ease, opacity ${e}ms ease`,t.style.height="0",t.style.opacity="0";const d=()=>{t.style.transition="",t.style.height="",t.style.opacity="",t.style.overflow="",t.removeEventListener("transitionend",d),u()};t.addEventListener("transitionend",d)},v=t=>{};return(t,u)=>(s(),p(I,{onBeforeEnter:i,onEnter:l,onAfterEnter:r,onBeforeLeave:c,onLeave:S,onAfterLeave:v,mode:"in-out"},{default:f(()=>[n.visible?(s(),o("div",U,[_(t.$slots,"default",{},void 0,!0)])):k("",!0)]),_:3}))}},ne=m(J,[["__scopeId","data-v-e0e58ffb"]]),G={name:"Badge",components:{DynamicIcon:H},props:{status:String,text:{type:String,default:null,required:!1},hideIcon:{type:Boolean,default:!1},size:String,highContrast:{type:Boolean,default:!1},type:String,icon:String},computed:{Str(){return w},computedStatus(){return this.status||this.type},badgeType(){switch(this.computedStatus){case"completed":case"paid":case"active":case"publish":case"shipped":case"success":case"licensed":case"succeeded":return"success";case"failed":case"error":case"canceled":case"expired":return"danger";case"partially_paid":case"intended":return"blue";case"scheduled":case"on-hold":case"pending":case"unpaid":case"warning":case"processing":case"future":return"warning";case"inactive":return"warning";case"dispute":return"warning";default:return"info"}},badgeSize(){return this.size?this.size:""},HighContrast(){return this.highContrast?"is-high-contrast":""}}},K={key:0};function R(n,a,e,i,l,r){const c=g("DynamicIcon");return s(),o("span",{class:C(`badge ${r.badgeType} ${r.badgeSize} ${r.HighContrast}`)},[e.status?(s(),o(h,{key:0},[e.icon?(s(),o("span",K,[z(c,{name:e.icon},null,8,["name"])])):k("",!0),e.text?(s(),o(h,{key:1},[P(y(e.text),1)],64)):(s(),o(h,{key:2},[P(y(r.Str.headline(e.status)),1)],64))],64)):_(n.$slots,"default",{key:1})],2)}const re=m(G,[["render",R]]);export{re as B,te as I,ae as P,ee as S,ne as T};
