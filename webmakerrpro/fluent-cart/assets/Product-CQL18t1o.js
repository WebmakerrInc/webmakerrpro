import{x as N,i as u,j as _,a as h,c as p,o as t,f as o,d as f,w as n,b as i,F as y,h as x}from"./vue.esm-bundler-VLZRLwDo.js";const $={class:"fc-multiple-select-group"},j={class:"input-prepend"},C={class:"input-append"},I={__name:"Product",props:{field:{type:Object},value:{type:Object},fieldKey:{type:String}},setup(a){const V=N().ctx,k=a,s=u("include"),v=u([]),B=u([]),w=u([]),r=u(""),b=u(null),g=d=>{if(d==="")return!1;r.value=!0,clearTimeout(b.value),b.value=setTimeout(()=>{V.$get("products/searchVariantByName",{name:d}).then(e=>{v.value=e.products}).catch(e=>{}).finally(()=>{r.value=!1})},500)};return _(()=>{s.value=k.field.value.length>0?"include":"exclude"}),(d,e)=>{const c=h("el-option"),m=h("el-select");return t(),p("div",$,[o("div",j,[f(m,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value=l),placeholder:d.$t("Select")},{default:n(()=>[f(c,{disabled:B.value.length>0,label:d.$t("Include"),value:"include"},null,8,["disabled","label"]),f(c,{disabled:w.value.length>0,label:d.$t("Exclude"),value:"exclude"},null,8,["disabled","label"])]),_:1},8,["modelValue","placeholder"])]),o("div",C,[s.value==="exclude"?(t(),i(m,{key:0,modelValue:a.value.excluded_products,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.excluded_products=l),multiple:"",placeholder:a.field.placeholder,filterable:"",remote:"","reserve-keyword":!1,"remote-method":g,loading:r.value},{loading:n(()=>e[3]||(e[3]=[o("svg",{class:"circular",viewBox:"0 0 50 50"},[o("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})],-1)])),default:n(()=>[(t(!0),p(y,null,x(v.value,l=>(t(),i(c,{key:l.id,label:l.variation_title,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","loading"])):(t(),i(m,{key:1,modelValue:a.value.included_products,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.included_products=l),multiple:"",placeholder:a.field.placeholder,filterable:"",remote:"","remote-method":g,"reserve-keyword":!1,loading:r.value},{loading:n(()=>e[4]||(e[4]=[o("svg",{class:"circular",viewBox:"0 0 50 50"},[o("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})],-1)])),default:n(()=>[(t(!0),p(y,null,x(v.value,l=>(t(),i(c,{key:l.id,label:l.variation_title,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","loading"]))])])}}};export{I as default};
